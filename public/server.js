'use strict';let e=Array(256);function l(){for(let a=0;256>a;a++)e[a]={g:!1,j:0};document.addEventListener("keydown",a=>{a.preventDefault();a.stopPropagation();e[a.keyCode].g=!0});document.addEventListener("keyup",a=>{a.preventDefault();a.stopPropagation();e[a.keyCode].g=!1})}function m(){for(let a=0;256>a;a++)e[a].g?e[a].j++:e[a].j=0}
function n(){function a(b){m();e[37].g&&c.x--;e[39].g&&c.x++;e[38].g&&c.y--;e[40].g&&c.y++;d.fillStyle="black";d.fillRect(0,0,1920,1080);d.fillStyle="white";d.fillText("Time: "+b.toFixed(1),10,10);f?(d.fillText("Entities: "+f.h.length,10,30),f.h.forEach(h=>{d.fillStyle="white";d.fillRect(h.x,h.y,10,10)})):d.fillText("Waiting for server...",10,30);c?d.fillText(`Player: ${c.x}, ${c.y}`,10,50):d.fillText(`Player not found (${null===f||void 0===f?void 0:f.m})`,10,50);requestAnimationFrame(a)}let k=io({upgrade:!1,
transports:["websocket"]}),d=document.querySelector("canvas").getContext("2d"),c={l:0,u:1,x:0,y:0},f=void 0;k.on("u",b=>{b&&void 0!==b.h&&(f=b,k.emit("u",c))});l();requestAnimationFrame(a)}
function p(){let a=[],k={h:[],i:[]},d=1;module.exports=c=>{function f(){c.emit("u",{...k,m:b.l,i:h.i});h.i.length=0}let b={l:d++,u:1,x:0,y:0};k.h.push(b);let h={A:c,v:b,i:[]};a.push(h);c.on("disconnect",()=>{a.splice(a.indexOf(h),1);var g=k.h;g.splice(g.indexOf(b),1)});c.on("u",g=>{g&&void 0!==g.x&&void 0!==g.y&&(b.x=g.x,b.y=g.y,b.o=g.o,b.s=g.s,f())});f()}}"undefined"!==typeof module?p():n()
